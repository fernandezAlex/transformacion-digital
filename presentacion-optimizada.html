<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Presentación Transformación Digital - AFA Creations</title>
		<link
			href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
			rel="stylesheet"
		/>

		<style>
			body {
				font-family: "Poppins", sans-serif;
				margin: 0;
				padding: 0;
				overflow: hidden;
				background: #000;
			}

			.presentation-container {
				width: 100vw;
				height: 100vh;
				position: relative;
				display: flex;
				flex-direction: column;
			}

			.slide-area {
				flex: 1;
				width: 100%;
				height: calc(100vh - 120px);
				position: relative;
				overflow: hidden;
				background: #fff;
			}

			.slide {
				width: 100%;
				height: 100%;
				position: absolute;
				top: 0;
				left: 0;
				overflow: auto;
				opacity: 0;
				transform: translateX(100%);
				transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.slide.active {
				opacity: 1;
				transform: translateX(0);
			}

			.slide.prev {
				transform: translateX(-100%);
			}

			.slide iframe {
				border: none;
				transform-origin: 0 0;
				position: absolute;
				top: 0;
				left: 0;
			}

			.controls {
				position: fixed;
				bottom: 30px;
				left: 50%;
				transform: translateX(-50%);
				z-index: 1000;
				background: rgba(0, 0, 0, 0.9);
				padding: 15px 25px;
				border-radius: 50px;
				display: flex;
				align-items: center;
				gap: 20px;
			}

			.control-btn {
				background: #0052cc;
				color: white;
				border: none;
				width: 45px;
				height: 45px;
				border-radius: 50%;
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 16px;
				transition: all 0.3s ease;
			}

			.control-btn:hover {
				background: #ffd100;
				color: #000;
				transform: scale(1.1);
			}

			.control-btn:disabled {
				background: #555;
				cursor: not-allowed;
				transform: none;
			}

			.slide-counter {
				color: white;
				font-weight: 600;
				font-size: 16px;
				min-width: 80px;
				text-align: center;
			}

			.slide-title {
				position: fixed;
				top: 20px;
				left: 20px;
				z-index: 1000;
				background: rgba(0, 0, 0, 0.9);
				color: white;
				padding: 10px 20px;
				border-radius: 25px;
				font-size: 14px;
				font-weight: 500;
			}

			.keyboard-hint {
				position: fixed;
				top: 20px;
				right: 20px;
				z-index: 1000;
				background: rgba(0, 0, 0, 0.9);
				color: white;
				padding: 10px 15px;
				border-radius: 20px;
				font-size: 12px;
			}

			.zoom-controls {
				position: fixed;
				top: 80px;
				right: 20px;
				z-index: 1000;
				display: flex;
				flex-direction: column;
				gap: 5px;
			}

			.zoom-btn {
				background: rgba(0, 0, 0, 0.9);
				color: white;
				border: none;
				width: 40px;
				height: 40px;
				border-radius: 50%;
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 12px;
				transition: all 0.3s ease;
			}

			.zoom-btn:hover {
				background: #0052cc;
			}

			.fullscreen-btn {
				background: rgba(0, 0, 0, 0.9);
				color: white;
				border: none;
				padding: 8px 12px;
				border-radius: 20px;
				cursor: pointer;
				font-size: 11px;
				transition: all 0.3s ease;
				margin-top: 5px;
			}

			.fullscreen-btn:hover {
				background: #0052cc;
			}
		</style>
	</head>
	<body>
		<div class="presentation-container">
			<div class="slide-area">
				<!-- Slide 1: Portada -->
				<div class="slide active" data-title="Portada - Transformación Digital">
					<iframe src="diapositivas-proyecto/1-portada-transformación-digital.html"></iframe>
				</div>

				<!-- Slide 2: Índice -->
				<div class="slide" data-title="Índice del Plan">
					<iframe src="diapositivas-proyecto/2-indice.html"></iframe>
				</div>

				<!-- Slide 3: Presentación de la Marca -->
				<div class="slide" data-title="Presentación de la Marca">
					<iframe src="diapositivas-proyecto/3-presentacion-marca.html"></iframe>
				</div>

				<!-- Slide 4: Business Model Canvas -->
				<div class="slide" data-title="Modelo de Negocio Canvas">
					<iframe src="diapositivas-proyecto/4.html"></iframe>
				</div>

				<!-- Slide 5: Objetivos SMART -->
				<div class="slide" data-title="Objetivos SMART">
					<iframe src="diapositivas-proyecto/5.html"></iframe>
				</div>

				<!-- Slide 6: Análisis PESTEL -->
				<div class="slide" data-title="Análisis Macro: PESTEL">
					<iframe src="diapositivas-proyecto/6.html"></iframe>
				</div>

				<!-- Slide 7: Análisis de Competencia -->
				<div class="slide" data-title="Análisis de Competencia">
					<iframe src="diapositivas-proyecto/7.html"></iframe>
				</div>

				<!-- Slide 8: Buyer Persona -->
				<div class="slide" data-title="Buyer Persona">
					<iframe src="diapositivas-proyecto/8.html"></iframe>
				</div>

				<!-- Slide 9: Customer Journey -->
				<div class="slide" data-title="Customer Journey">
					<iframe src="diapositivas-proyecto/9.html"></iframe>
				</div>

				<!-- Slide 10: Análisis SWOT & VUCA -->
				<div class="slide" data-title="Análisis SWOT & VUCA">
					<iframe src="diapositivas-proyecto/10.html"></iframe>
				</div>

				<!-- Slide 11: Macro-Tendencias -->
				<div class="slide" data-title="Macro-Tendencias">
					<iframe src="diapositivas-proyecto/11.html"></iframe>
				</div>

				<!-- Slide 12: Marco de Transformación Digital -->
				<div class="slide" data-title="Marco de Transformación Digital">
					<iframe src="diapositivas-proyecto/12.html"></iframe>
				</div>

				<!-- Slide 13: Metodología Ágil -->
				<div class="slide" data-title="Metodología Ágil">
					<iframe src="diapositivas-proyecto/13.html"></iframe>
				</div>

				<!-- Slide 14: Plan de Implementación -->
				<div class="slide" data-title="Plan de Implementación">
					<iframe src="diapositivas-proyecto/14.html"></iframe>
				</div>

				<!-- Slide 15: Métricas y KPIs -->
				<div class="slide" data-title="Métricas y KPIs">
					<iframe src="diapositivas-proyecto/15.html"></iframe>
				</div>
			</div>
		</div>

		<!-- Título de la diapositiva actual -->
		<div class="slide-title" id="slideTitle">
			Portada - Transformación Digital
		</div>

		<!-- Indicación de controles -->
		<div class="keyboard-hint">
			← → navegar | +/- zoom | F pantalla completa
		</div>

		<!-- Controles de zoom y pantalla completa -->
		<div class="zoom-controls">
			<button class="zoom-btn" onclick="zoomIn()">
				<i class="fas fa-plus"></i>
			</button>
			<button class="zoom-btn" onclick="zoomOut()">
				<i class="fas fa-minus"></i>
			</button>
			<button class="zoom-btn" onclick="resetZoom()">
				<i class="fas fa-home"></i>
			</button>
			<button class="fullscreen-btn" onclick="toggleFullscreen()">
				<i class="fas fa-expand"></i>
			</button>
		</div>

		<!-- Controles de navegación -->
		<div class="controls">
			<button class="control-btn" id="prevBtn" onclick="previousSlide()">
				<i class="fas fa-chevron-left"></i>
			</button>

			<span class="slide-counter" id="slideCounter"> 1 / 15 </span>

			<button class="control-btn" id="nextBtn" onclick="nextSlide()">
				<i class="fas fa-chevron-right"></i>
			</button>
		</div>

		<script>
			let currentSlide = 0;
			let currentZoom = 1;
			let isAnimating = false;
			const slides = document.querySelectorAll(".slide");
			const totalSlides = slides.length;

			function updateSlideDisplay() {
				if (isAnimating) return;

				isAnimating = true;

				// Actualizar contador
				document.getElementById("slideCounter").textContent = `${
					currentSlide + 1
				} / ${totalSlides}`;

				// Actualizar título
				const title = slides[currentSlide].getAttribute("data-title");
				document.getElementById("slideTitle").textContent = title;

				// Actualizar estado de los botones
				document.getElementById("prevBtn").disabled = currentSlide === 0;
				document.getElementById("nextBtn").disabled =
					currentSlide === totalSlides - 1;

				// Aplicar transiciones
				slides.forEach((slide, index) => {
					slide.classList.remove("active", "prev");
					if (index === currentSlide) {
						slide.classList.add("active");
					} else if (index < currentSlide) {
						slide.classList.add("prev");
					}
				});

				// Resetear zoom al cambiar de diapositiva
				currentZoom = 1;

				// Permitir nueva animación y ajustar escala después de completar la transición
				setTimeout(() => {
					isAnimating = false;
					scaleCurrentSlide();
				}, 800); // Coincide con la duración de la transición CSS
			}

			function scaleCurrentSlide() {
				const currentSlideElement = slides[currentSlide];
				const iframe = currentSlideElement.querySelector("iframe");

				if (iframe) {
					const slideArea = document.querySelector(".slide-area");
					const containerWidth = slideArea.clientWidth;
					const containerHeight = slideArea.clientHeight;

					// Dimensiones originales de las diapositivas
					const originalWidth = 1920;
					const originalHeight = 1080;

					// Calcular escala para que quepa todo el contenido
					const scaleX = containerWidth / originalWidth;
					const scaleY = containerHeight / originalHeight;

					// Usar la escala menor para asegurar que todo sea visible
					let baseScale = Math.min(scaleX, scaleY) * 0.9; // 90% para margen

					// Aplicar zoom actual
					const finalScale = baseScale * currentZoom;

					// Calcular dimensiones finales
					const finalWidth = originalWidth * finalScale;
					const finalHeight = originalHeight * finalScale;

					// Aplicar estilos
					iframe.style.width = `${originalWidth}px`;
					iframe.style.height = `${originalHeight}px`;
					iframe.style.transform = `scale(${finalScale})`;

					// Centrar horizontalmente
					const offsetX = (containerWidth - finalWidth) / 2;
					iframe.style.left = `${Math.max(0, offsetX)}px`;

					// Si no cabe verticalmente, permitir scroll
					if (finalHeight > containerHeight) {
						iframe.style.top = "0px";
						currentSlideElement.style.overflowY = "auto";
					} else {
						const offsetY = (containerHeight - finalHeight) / 2;
						iframe.style.top = `${Math.max(0, offsetY)}px`;
						currentSlideElement.style.overflowY = "hidden";
					}
				}
			}

			function zoomIn() {
				currentZoom = Math.min(currentZoom * 1.2, 3);
				scaleCurrentSlide();
			}

			function zoomOut() {
				currentZoom = Math.max(currentZoom / 1.2, 0.5);
				scaleCurrentSlide();
			}

			function resetZoom() {
				currentZoom = 1;
				scaleCurrentSlide();
			}

			function nextSlide() {
				if (!isAnimating && currentSlide < totalSlides - 1) {
					currentSlide++;
					updateSlideDisplay();
				}
			}

			function previousSlide() {
				if (!isAnimating && currentSlide > 0) {
					currentSlide--;
					updateSlideDisplay();
				}
			}

			function goToSlide(index) {
				if (
					!isAnimating &&
					index >= 0 &&
					index < totalSlides &&
					index !== currentSlide
				) {
					currentSlide = index;
					updateSlideDisplay();
				}
			}

			function toggleFullscreen() {
				if (!document.fullscreenElement) {
					document.documentElement.requestFullscreen();
				} else {
					document.exitFullscreen();
				}
			}

			// Controles de teclado
			document.addEventListener("keydown", function (e) {
				switch (e.key) {
					case "ArrowRight":
					case " ":
						e.preventDefault();
						nextSlide();
						break;
					case "ArrowLeft":
						e.preventDefault();
						previousSlide();
						break;
					case "Home":
						e.preventDefault();
						goToSlide(0);
						break;
					case "End":
						e.preventDefault();
						goToSlide(totalSlides - 1);
						break;
					case "+":
					case "=":
						e.preventDefault();
						zoomIn();
						break;
					case "-":
						e.preventDefault();
						zoomOut();
						break;
					case "0":
						e.preventDefault();
						resetZoom();
						break;
					case "f":
					case "F":
						toggleFullscreen();
						break;
					case "Escape":
						if (document.fullscreenElement) {
							document.exitFullscreen();
						}
						break;
				}
			});

			// Controles táctiles para móviles
			let touchStartX = 0;
			let touchEndX = 0;

			document.addEventListener("touchstart", function (e) {
				touchStartX = e.changedTouches[0].screenX;
			});

			document.addEventListener("touchend", function (e) {
				touchEndX = e.changedTouches[0].screenX;
				handleSwipe();
			});

			function handleSwipe() {
				const swipeThreshold = 50;
				const diff = touchStartX - touchEndX;

				if (Math.abs(diff) > swipeThreshold) {
					if (diff > 0) {
						// Swipe izquierda - siguiente diapositiva
						nextSlide();
					} else {
						// Swipe derecha - diapositiva anterior
						previousSlide();
					}
				}
			}

			// Scroll con rueda del ratón para zoom
			document.addEventListener("wheel", function (e) {
				if (e.ctrlKey) {
					e.preventDefault();
					if (e.deltaY < 0) {
						zoomIn();
					} else {
						zoomOut();
					}
				}
			});

			// Redimensionar automáticamente cuando cambie el tamaño de la ventana
			window.addEventListener("resize", () => {
				setTimeout(() => {
					scaleCurrentSlide();
				}, 100);
			});

			// Inicializar la presentación
			updateSlideDisplay();

			// Auto-ocultar controles después de 3 segundos sin movimiento
			let hideControlsTimeout;

			function resetHideControls() {
				document.querySelector(".controls").style.opacity = "1";
				document.querySelector(".slide-title").style.opacity = "1";
				document.querySelector(".keyboard-hint").style.opacity = "1";
				document.querySelector(".zoom-controls").style.opacity = "1";

				clearTimeout(hideControlsTimeout);
				hideControlsTimeout = setTimeout(() => {
					if (document.fullscreenElement) {
						document.querySelector(".controls").style.opacity = "0.3";
						document.querySelector(".slide-title").style.opacity = "0.3";
						document.querySelector(".keyboard-hint").style.opacity = "0";
						document.querySelector(".zoom-controls").style.opacity = "0.3";
					}
				}, 3000);
			}

			document.addEventListener("mousemove", resetHideControls);
			document.addEventListener("keydown", resetHideControls);

			// Estilo para transiciones suaves
			document.querySelector(".controls").style.transition =
				"opacity 0.3s ease";
			document.querySelector(".slide-title").style.transition =
				"opacity 0.3s ease";
			document.querySelector(".keyboard-hint").style.transition =
				"opacity 0.3s ease";
			document.querySelector(".zoom-controls").style.transition =
				"opacity 0.3s ease";
		</script>
	</body>
</html>
