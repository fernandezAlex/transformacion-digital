<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Presentaci√≥n Transformaci√≥n Digital - AFA Creations</title>
		<link
			href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
			rel="stylesheet"
		/>

		<style>
			body {
				font-family: "Poppins", sans-serif;
				margin: 0;
				padding: 0;
				overflow: hidden;
				background: #000;
			}

			iframe {
				box-shadow: rgba(0, 0, 0, 0.45) 0px 25px 20px -20px;
			}

			.presentation-container {
				width: 100vw;
				height: 100vh;
				position: relative;
				display: flex;
				flex-direction: column;
			}

			.slide-area {
				flex: 1;
				width: 100%;
				height: 100%;
				position: relative;
				overflow: hidden;
				background: #fff;
				/* background: #ffe15a; */
			}

			.slide {
				width: 100%;
				height: 100%;
				position: absolute;
				top: 0;
				left: 0;
				overflow: auto;
				opacity: 0;
				transform: translateX(100%);
				transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.slide.active {
				opacity: 1;
				transform: translateX(0);
			}

			.slide.prev {
				transform: translateX(-100%);
			}

			.slide iframe {
				border: none;
				transform-origin: center center;
				position: absolute;
				width: 1920px;
				height: 1080px;
				margin: auto;
				left: 0;
				top: 0;
				right: 0;
				bottom: 0;
			}

			@media (max-width: 1920px) {
				.slide iframe {
					transform: scale(0.8);
					margin: inherit;
					left: 0;
					top: 0;
					right: 0;
					bottom: 0;

					transform-origin: center center;
				}
			}

			@media (max-width: 1024px) {
				.slide iframe {
					transform: scale(0.358333);
        margin: auto;
        left: 10%;

					transform-origin: 0;
				}
			}



			.slide-title {
				position: fixed;
				top: 20px;
				left: 20px;
				z-index: 1000;
				background: rgba(0, 0, 0, 0.9);
				color: white;
				padding: 10px 20px;
				border-radius: 25px;
				font-size: 14px;
				font-weight: 500;
				display: none; /* Oculto para limpiar la interfaz */
			}

			.keyboard-hint {
				position: fixed;
				top: 20px;
				right: 20px;
				z-index: 1000;
				background: rgba(0, 0, 0, 0.9);
				color: white;
				padding: 10px 15px;
				border-radius: 20px;
				font-size: 12px;
				display: none; /* Oculto para limpiar la interfaz */
			}

			.zoom-controls {
				position: fixed;
				top: 80px;
				right: 20px;
				z-index: 1000;
				display: flex;
				flex-direction: column;
				gap: 5px;
			}

			.zoom-btn {
				background: rgba(0, 0, 0, 0.9);
				color: white;
				border: none;
				width: 40px;
				height: 40px;
				border-radius: 50%;
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 12px;
				transition: all 0.3s ease;
			}

			.zoom-btn:hover {
				background: #0052cc;
			}

			.fullscreen-btn {
				background: rgba(0, 0, 0, 0.9);
				color: white;
				border: none;
				padding: 8px 12px;
				border-radius: 20px;
				cursor: pointer;
				font-size: 11px;
				transition: all 0.3s ease;
				margin-top: 5px;
			}

			.fullscreen-btn:hover {
				background: #0052cc;
			}

			.navigation-controls {
				position: fixed;
				top: 20px;
				right: 20px;
				z-index: 1000;
				background: rgba(0, 0, 0, 0.9);
				color: white;
				padding: 10px 15px;
				border-radius: 25px;
				display: flex;
				align-items: center;
				gap: 12px;
			}

			.home-btn {
				background: #007bff;
				border: 1px solid #007bff;
				color: white;
				cursor: pointer;
				font-size: 14px;
				padding: 8px 12px;
				border-radius: 20px;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: all 0.3s ease;
				min-width: 40px;
				height: 36px;
			}

			.home-btn:hover {
				background: #0056b3;
				border-color: #0056b3;
				transform: scale(1.05);
			}

			.home-btn:disabled {
				opacity: 0.5;
				cursor: not-allowed;
				transform: none;
			}

			.nav-btn {
				background: #0052cc;
				color: white;
				border: none;
				width: 32px;
				height: 32px;
				border-radius: 50%;
				cursor: pointer;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 12px;
				transition: all 0.3s ease;
			}

			.nav-btn:hover {
				background: #ffd100;
				color: #000;
				transform: scale(1.1);
			}

			.nav-btn:disabled {
				background: #555;
				cursor: not-allowed;
				transform: none;
				opacity: 0.5;
			}

			.slide-counter {
				color: white;
				font-weight: 600;
				font-size: 12px;
				min-width: 60px;
				text-align: center;
			}
		</style>
	</head>
	<body>
		<div class="presentation-container">
			<div class="slide-area">
				<!-- Slide 1: Portada -->
				<div class="slide active" data-title="Portada - Transformaci√≥n Digital">
					<iframe src="diapositivas-proyecto/1-portada-transformaci√≥n-digital.html"></iframe>
				</div>

				<!-- Slide 2: √çndice -->
				<div class="slide" data-title="√çndice del Plan">
					<iframe src="diapositivas-proyecto/2-indice.html"></iframe>
				</div>

				<!-- Slide 3: Presentaci√≥n de la Marca -->
				<div class="slide" data-title="Presentaci√≥n de la Marca">
					<iframe src="diapositivas-proyecto/3-presentacion-marca.html"></iframe>
				</div>

				<!-- Slide 4: Business Model Canvas -->
				<div class="slide" data-title="Modelo de Negocio Canvas">
					<iframe src="diapositivas-proyecto/4.html"></iframe>
				</div>

				<!-- Slide 5: Objetivos SMART -->
				<div class="slide" data-title="Objetivos SMART">
					<iframe src="diapositivas-proyecto/5.html"></iframe>
				</div>

				<!-- Slide 6: An√°lisis PESTEL -->
				<div class="slide" data-title="An√°lisis Macro: PESTEL">
					<iframe src="diapositivas-proyecto/6.html"></iframe>
				</div>

				<!-- Slide 7: An√°lisis de Competencia -->
				<div class="slide" data-title="An√°lisis de Competencia">
					<iframe src="diapositivas-proyecto/7.html"></iframe>
				</div>

				<!-- Slide 8: Buyer Persona -->
				<div class="slide" data-title="Buyer Persona">
					<iframe src="diapositivas-proyecto/8.html"></iframe>
				</div>

				<!-- Slide 9: Customer Journey -->
				<div class="slide" data-title="Customer Journey">
					<iframe src="diapositivas-proyecto/9.html"></iframe>
				</div>

				<!-- Slide 10: An√°lisis SWOT & VUCA -->
				<div class="slide" data-title="An√°lisis SWOT & VUCA">
					<iframe src="diapositivas-proyecto/10.html"></iframe>
				</div>

				<!-- Slide 11: Macro-Tendencias -->
				<div class="slide" data-title="Macro-Tendencias">
					<iframe src="diapositivas-proyecto/11.html"></iframe>
				</div>

				<!-- Slide 12: Marco de Transformaci√≥n Digital -->
				<div class="slide" data-title="Marco de Transformaci√≥n Digital">
					<iframe src="diapositivas-proyecto/12.html"></iframe>
				</div>

				<!-- Slide 13: Metodolog√≠a √Ågil -->
				<div class="slide" data-title="Metodolog√≠a √Ågil">
					<iframe src="diapositivas-proyecto/13.html"></iframe>
				</div>

				<!-- Slide 14: Plan de Implementaci√≥n -->
				<div class="slide" data-title="Plan de Implementaci√≥n">
					<iframe src="diapositivas-proyecto/14.html"></iframe>
				</div>


				<!-- Slide 15: M√©tricas y KPIs -->
				<div class="slide" data-title="M√©tricas y KPIs">
					<iframe src="diapositivas-proyecto/16.html"></iframe>
				</div>

				<!-- Slide 15: M√©tricas y KPIs -->
				<div class="slide" data-title="M√©tricas y KPIs">
					<iframe src="diapositivas-proyecto/15.html"></iframe>
				</div>
			</div>
		</div>

		<!-- T√≠tulo de la diapositiva actual -->
		<div class="slide-title" id="slideTitle">
			Portada - Transformaci√≥n Digital
		</div>

		<!-- Indicaci√≥n de controles -->
		<div class="keyboard-hint">
			‚Üê ‚Üí navegar | +/- zoom | F pantalla completa
		</div>

		<!-- Controles de zoom y pantalla completa -->
		<div class="zoom-controls">
			<button class="home-btn" onclick="goToIndex()" title="Ir al √≠ndice">
				üè†
			</button>
			<button class="zoom-btn" onclick="zoomIn()">
				<i class="fas fa-plus"></i>
			</button>
			<button class="zoom-btn" onclick="zoomOut()">
				<i class="fas fa-minus"></i>
			</button>
			<button class="fullscreen-btn" onclick="toggleFullscreen()">
				<i class="fas fa-expand"></i>
			</button>
		</div>

		<!-- Controles de navegaci√≥n en esquina superior derecha -->
		<div class="navigation-controls">
			<button class="nav-btn" id="prevBtnTop" onclick="previousSlide()">
				<i class="fas fa-chevron-left"></i>
			</button>
			<span class="slide-counter" id="slideCounterTop"> 1 / 15 </span>
			<button class="nav-btn" id="nextBtnTop" onclick="nextSlide()">
				<i class="fas fa-chevron-right"></i>
			</button>
		</div>



		<script>
			let currentSlide = 0;
			let currentZoom = 1;
			let isAnimating = false;
			const slides = document.querySelectorAll(".slide");
			const totalSlides = slides.length;

			function updateSlideDisplay() {
				if (isAnimating) return;

				isAnimating = true;

				// Actualizar contador (solo top)
				document.getElementById("slideCounterTop").textContent = `${
					currentSlide + 1
				} / ${totalSlides}`;

				// Actualizar t√≠tulo
				const title = slides[currentSlide].getAttribute("data-title");
				document.getElementById("slideTitle").textContent = title;

				// Actualizar estado de los botones (solo top)
				document.getElementById("prevBtnTop").disabled = currentSlide === 0;
				document.getElementById("nextBtnTop").disabled = currentSlide === totalSlides - 1;

				// Aplicar transiciones
				slides.forEach((slide, index) => {
					slide.classList.remove("active", "prev");
					if (index === currentSlide) {
						slide.classList.add("active");
					} else if (index < currentSlide) {
						slide.classList.add("prev");
					}
				});

				// Resetear zoom al cambiar de diapositiva
				currentZoom = 1;

				// Permitir nueva animaci√≥n y ajustar escala despu√©s de completar la transici√≥n
				setTimeout(() => {
					isAnimating = false;
					scaleCurrentSlide();
				}, 800); // Coincide con la duraci√≥n de la transici√≥n CSS
			}

			function scaleCurrentSlide() {
				const currentSlideElement = slides[currentSlide];
				const iframe = currentSlideElement.querySelector("iframe");

				if (iframe) {
					const slideArea = document.querySelector(".slide-area");
					const containerWidth = slideArea.clientWidth;
					const containerHeight = slideArea.clientHeight;

					// Dimensiones originales de las diapositivas
					const originalWidth = 1920;
					const originalHeight = 1080;

					// Calcular escala para que quepa todo el contenido
					const scaleX = containerWidth / originalWidth;
					const scaleY = containerHeight / originalHeight;


					// Aplicar zoom actual
					const finalScale = baseScale * currentZoom;

					// Aplicar estilos
					iframe.style.width = `${originalWidth}px`;
					iframe.style.height = `${originalHeight}px`;
					iframe.style.transform = `scale(${finalScale})`;



					// Si no cabe verticalmente, permitir scroll
					if (finalHeight > containerHeight) {
						iframe.style.top = "0px";
						currentSlideElement.style.overflowY = "auto";
					} else {
						const offsetY = (containerHeight - finalHeight) / 2;
						iframe.style.top = `${Math.max(0, offsetY)}px`;
						currentSlideElement.style.overflowY = "hidden";
					}
				}
			}

			function zoomIn() {
				currentZoom = Math.min(currentZoom * 1.2, 3);
				scaleCurrentSlide();
			}

			function zoomOut() {
				currentZoom = Math.max(currentZoom / 1.2, 0.5);
				scaleCurrentSlide();
			}

			function resetZoom() {
				currentZoom = 1;
				scaleCurrentSlide();
			}

			function nextSlide() {
				if (!isAnimating && currentSlide < totalSlides - 1) {
					currentSlide++;
					updateSlideDisplay();
				}
			}

			function previousSlide() {
				if (!isAnimating && currentSlide > 0) {
					currentSlide--;
					updateSlideDisplay();
				}
			}

			function goToSlide(index) {
				if (
					!isAnimating &&
					index >= 0 &&
					index < totalSlides &&
					index !== currentSlide
				) {
					currentSlide = index;
					updateSlideDisplay();
				}
			}

			function goToIndex() {
				goToSlide(1); // Slide 2 (√≠ndice) - el array es 0-based
			}

			function toggleFullscreen() {
				if (!document.fullscreenElement) {
					document.documentElement.requestFullscreen();
				} else {
					document.exitFullscreen();
				}
			}

			// Controles de teclado
			document.addEventListener("keydown", function (e) {
				switch (e.key) {
					case "ArrowRight":
					case " ":
						e.preventDefault();
						nextSlide();
						break;
					case "ArrowLeft":
						e.preventDefault();
						previousSlide();
						break;
					case "Home":
						e.preventDefault();
						goToSlide(0);
						break;
					case "End":
						e.preventDefault();
						goToSlide(totalSlides - 1);
						break;
					case "+":
					case "=":
						e.preventDefault();
						zoomIn();
						break;
					case "-":
						e.preventDefault();
						zoomOut();
						break;
					case "0":
						e.preventDefault();
						resetZoom();
						break;
					case "f":
					case "F":
						toggleFullscreen();
						break;
					case "Escape":
						if (document.fullscreenElement) {
							document.exitFullscreen();
						}
						break;
				}
			});

			// Controles t√°ctiles para m√≥viles
			let touchStartX = 0;
			let touchEndX = 0;

			document.addEventListener("touchstart", function (e) {
				touchStartX = e.changedTouches[0].screenX;
			});

			document.addEventListener("touchend", function (e) {
				touchEndX = e.changedTouches[0].screenX;
				handleSwipe();
			});

			function handleSwipe() {
				const swipeThreshold = 50;
				const diff = touchStartX - touchEndX;

				if (Math.abs(diff) > swipeThreshold) {
					if (diff > 0) {
						// Swipe izquierda - siguiente diapositiva
						nextSlide();
					} else {
						// Swipe derecha - diapositiva anterior
						previousSlide();
					}
				}
			}

			// Scroll con rueda del rat√≥n para zoom
			document.addEventListener("wheel", function (e) {
				if (e.ctrlKey) {
					e.preventDefault();
					if (e.deltaY < 0) {
						zoomIn();
					} else {
						zoomOut();
					}
				}
			});

			// Redimensionar autom√°ticamente cuando cambie el tama√±o de la ventana
			window.addEventListener("resize", () => {
				setTimeout(() => {
					scaleCurrentSlide();
				}, 100);
			});

			// Inicializar la presentaci√≥n
			updateSlideDisplay();

			// Auto-ocultar controles despu√©s de 3 segundos sin movimiento
			let hideControlsTimeout;

			function resetHideControls() {
				document.querySelector(".navigation-controls").style.opacity = "1";
				document.querySelector(".zoom-controls").style.opacity = "1";

				clearTimeout(hideControlsTimeout);
				hideControlsTimeout = setTimeout(() => {
					if (document.fullscreenElement) {
						document.querySelector(".navigation-controls").style.opacity = "0.3";
						document.querySelector(".zoom-controls").style.opacity = "0.3";
					}
				}, 3000);
			}

			document.addEventListener("mousemove", resetHideControls);
			document.addEventListener("keydown", resetHideControls);

			// Escuchar mensajes del iframe del √≠ndice para navegaci√≥n
			window.addEventListener("message", function(event) {
				// Verificar que el mensaje venga de un origen v√°lido (mismo dominio o local)
				if (event.data && event.data.type === 'navigateToSlide') {
					const targetSlide = event.data.slideIndex;
					
					// Validar que el √≠ndice de diapositiva es v√°lido
					if (targetSlide >= 0 && targetSlide < totalSlides) {
						console.log(`Navegando a diapositiva ${targetSlide} desde √≠ndice`);
						goToSlide(targetSlide);
					} else {
						console.warn(`√çndice de diapositiva inv√°lido: ${targetSlide}`);
					}
				}
			});

			// Estilo para transiciones suaves
			document.querySelector(".navigation-controls").style.transition =
				"opacity 0.3s ease";
			document.querySelector(".zoom-controls").style.transition =
				"opacity 0.3s ease";
		</script>
	</body>
</html>
